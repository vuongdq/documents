cmake_minimum_required(VERSION 2.6)

set(CMAKE_C_FLAGS "-w -g")

include_directories(${CMAKE_CURRENT_SOURCE_DIR}/cui/include)
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/sd/include)
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/eqt/include)
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/pkgif/include)
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/pkgif_integration/include)
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/common)

AUX_SOURCE_DIRECTORY(${CMAKE_CURRENT_SOURCE_DIR}/cui/src cui_src)
AUX_SOURCE_DIRECTORY(${CMAKE_CURRENT_SOURCE_DIR}/sd/src sd_src)
AUX_SOURCE_DIRECTORY(${CMAKE_CURRENT_SOURCE_DIR}/eqt/src eqt_src)
AUX_SOURCE_DIRECTORY(${CMAKE_CURRENT_SOURCE_DIR}/pkgif/src pkgif_src)
AUX_SOURCE_DIRECTORY(${CMAKE_CURRENT_SOURCE_DIR}/dummy dummy_src)
AUX_SOURCE_DIRECTORY(${CMAKE_CURRENT_SOURCE_DIR}/pkgif_integration/src pkgif_integration_src)
AUX_SOURCE_DIRECTORY(${CMAKE_CURRENT_SOURCE_DIR}/UT_integration UT_integration_src)
AUX_SOURCE_DIRECTORY(${CMAKE_CURRENT_SOURCE_DIR}/UT UT_src)

add_definitions( -D__FPT_UT__ )
add_definitions( -D__LINUX__ )
add_definitions( -DFPT_ADD_COMMAND )
add_definitions( -DEQT_INIT_MAIN  )
add_definitions( -DCMPSW_SCT  )
add_definitions( -D__FPT_COLOR__  )
add_definitions( -D__FPT_TEST_SEQUENCE_  )

if (CMAKE_BUILD_TYPE STREQUAL "CUI")
	add_library(cui ${cui_src})
endif (CMAKE_BUILD_TYPE STREQUAL "CUI") 

if (CMAKE_BUILD_TYPE STREQUAL "SD")
	add_library(sd ${sd_src})
endif (CMAKE_BUILD_TYPE STREQUAL "SD") 

if (CMAKE_BUILD_TYPE STREQUAL "EQT")
	add_library(eqt ${eqt_src})
endif (CMAKE_BUILD_TYPE STREQUAL "EQT") 

if (CMAKE_BUILD_TYPE STREQUAL "PKGIF")
	add_library(pkgif ${pkgif_src})
endif (CMAKE_BUILD_TYPE STREQUAL "PKGIF") 

if (CMAKE_BUILD_TYPE STREQUAL "N")	
	add_library(cui ${cui_src})
	add_library(sd ${sd_src})
	add_library(eqt ${eqt_src})
	add_library(pkgif ${pkgif_src})
	add_library(dummy ${dummy_src})
	add_library(UT ${UT_src})
	add_executable(main main.c)	
	target_link_libraries(main pkgif sd eqt cui dummy UT pthread)
endif (CMAKE_BUILD_TYPE STREQUAL  "N") 

if (CMAKE_BUILD_TYPE STREQUAL "I")
	add_library(cui ${cui_src})
	add_library(sd ${sd_src})
	add_library(eqt ${eqt_src})
	add_library(dummy ${dummy_src})
	add_library(pkgif_integration ${pkgif_integration_src})
	add_library(UT_integration ${UT_integration_src})
	add_executable(main_integration main_integration.c)	
	target_link_libraries(main_integration pkgif_integration sd eqt cui dummy UT_integration pthread)
endif (CMAKE_BUILD_TYPE STREQUAL  "I") 